{"ast":null,"code":"import _objectSpread from\"D:/Deltarray/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';import{Link,useNavigate}from'react-router-dom';import api from'../api';import'./Auth.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const navigate=useNavigate();const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[formData,setFormData]=useState({email:'',password:''});const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{if(!formData.email.trim()){setError('Email is required');setLoading(false);return;}if(!formData.password){setError('Password is required');setLoading(false);return;}const response=await api.login(formData.email,formData.password);if(response.token){localStorage.setItem('token',response.token);localStorage.setItem('user',JSON.stringify(response.user));alert('Login successful!');navigate('/users');}else{setError(response.message||'Login failed');}}catch(err){setError('Error during login: '+err.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,placeholder:\"Enter email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleInputChange,placeholder:\"Enter password\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"submit-btn\",children:loading?'Logging in...':'Login'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"login-link\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register here\"})]})]})});}","map":{"version":3,"names":["useState","Link","useNavigate","api","jsx","_jsx","jsxs","_jsxs","Login","navigate","loading","setLoading","error","setError","formData","setFormData","email","password","handleInputChange","e","name","value","target","prev","_objectSpread","handleSubmit","preventDefault","trim","response","login","token","localStorage","setItem","JSON","stringify","user","alert","message","err","className","children","onSubmit","type","onChange","placeholder","required","disabled","to"],"sources":["D:/Deltarray/frontend/src/components/Login.js"],"sourcesContent":["import { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport api from '../api';\nimport './Auth.css';\n\nexport default function Login() {\n    const navigate = useNavigate();\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [formData, setFormData] = useState({\n        email: '',\n        password: ''\n    });\n\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        setFormData(prev => ({\n            ...prev,\n            [name]: value\n        }));\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n        setLoading(true);\n\n        try {\n            if (!formData.email.trim()) {\n                setError('Email is required');\n                setLoading(false);\n                return;\n            }\n            if (!formData.password) {\n                setError('Password is required');\n                setLoading(false);\n                return;\n            }\n\n            const response = await api.login(formData.email, formData.password);\n\n            if (response.token) {\n                localStorage.setItem('token', response.token);\n                localStorage.setItem('user', JSON.stringify(response.user));\n                alert('Login successful!');\n                navigate('/users');\n            } else {\n                setError(response.message || 'Login failed');\n            }\n        } catch (err) {\n            setError('Error during login: ' + err.message);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"auth-container\">\n            <div className=\"auth-card\">\n                <h2>Login</h2>\n                {error && <div className=\"error-message\">{error}</div>}\n\n                <form onSubmit={handleSubmit}>\n                    <div className=\"form-group\">\n                        <label>Email</label>\n                        <input\n                            type=\"email\"\n                            name=\"email\"\n                            value={formData.email}\n                            onChange={handleInputChange}\n                            placeholder=\"Enter email\"\n                            required\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Password</label>\n                        <input\n                            type=\"password\"\n                            name=\"password\"\n                            value={formData.password}\n                            onChange={handleInputChange}\n                            placeholder=\"Enter password\"\n                            required\n                        />\n                    </div>\n\n                    <button type=\"submit\" disabled={loading} className=\"submit-btn\">\n                        {loading ? 'Logging in...' : 'Login'}\n                    </button>\n                </form>\n\n                <p className=\"login-link\">\n                    Don't have an account? <Link to=\"/register\">Register here</Link>\n                </p>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}